<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>1. Setup | Robin Smith</title>
<meta name="keywords" content="">
<meta name="description" content="In order to follow along with the course, we&rsquo;ll want to get the project up and running, and nail down the tech stack we&rsquo;ll be using.
The Stack The language - Rust The Vulkan crate - ash The windowing crate - winit The window abstraction crate - raw-window-handle The glue crate - ash-window Install Rust If the Rust toolchain is already installed, we can skip this bit. Luckily Rust is easy enough to install.">
<meta name="author" content="">
<link rel="canonical" href="https://forgottenmaster.github.io/posts/vulkan/lets-learn-vulkan/setup/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.4599eadb9eb2ad3d0a8d6827b41a8fda8f2f4af226b63466c09c5fddbc8706b7.css" integrity="sha256-RZnq256yrT0KjWgntBqP2o8vSvImtjRmwJxf3byHBrc=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://forgottenmaster.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://forgottenmaster.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://forgottenmaster.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://forgottenmaster.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://forgottenmaster.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://forgottenmaster.github.io/posts/vulkan/lets-learn-vulkan/setup/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="1. Setup" />
<meta property="og:description" content="In order to follow along with the course, we&rsquo;ll want to get the project up and running, and nail down the tech stack we&rsquo;ll be using.
The Stack The language - Rust The Vulkan crate - ash The windowing crate - winit The window abstraction crate - raw-window-handle The glue crate - ash-window Install Rust If the Rust toolchain is already installed, we can skip this bit. Luckily Rust is easy enough to install." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://forgottenmaster.github.io/posts/vulkan/lets-learn-vulkan/setup/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-09T22:43:32+00:00" />
<meta property="article:modified_time" content="2023-01-09T22:43:32+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="1. Setup"/>
<meta name="twitter:description" content="In order to follow along with the course, we&rsquo;ll want to get the project up and running, and nail down the tech stack we&rsquo;ll be using.
The Stack The language - Rust The Vulkan crate - ash The windowing crate - winit The window abstraction crate - raw-window-handle The glue crate - ash-window Install Rust If the Rust toolchain is already installed, we can skip this bit. Luckily Rust is easy enough to install."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://forgottenmaster.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Vulkan",
      "item": "https://forgottenmaster.github.io/posts/vulkan/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Let's Learn Vulkan",
      "item": "https://forgottenmaster.github.io/posts/vulkan/lets-learn-vulkan/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "1. Setup",
      "item": "https://forgottenmaster.github.io/posts/vulkan/lets-learn-vulkan/setup/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "1. Setup",
  "name": "1. Setup",
  "description": "In order to follow along with the course, we\u0026rsquo;ll want to get the project up and running, and nail down the tech stack we\u0026rsquo;ll be using.\nThe Stack The language - Rust The Vulkan crate - ash The windowing crate - winit The window abstraction crate - raw-window-handle The glue crate - ash-window Install Rust If the Rust toolchain is already installed, we can skip this bit. Luckily Rust is easy enough to install.",
  "keywords": [
    
  ],
  "articleBody": "In order to follow along with the course, we’ll want to get the project up and running, and nail down the tech stack we’ll be using.\nThe Stack The language - Rust The Vulkan crate - ash The windowing crate - winit The window abstraction crate - raw-window-handle The glue crate - ash-window Install Rust If the Rust toolchain is already installed, we can skip this bit. Luckily Rust is easy enough to install. Simply download and run Rustup which will install the entire Rust toolchain including Cargo.\nCreate Github Repository We’ll go and create a Github Repo to use which can be located at Let’s Learn Vulkan\nNext we’ll clone the repository to our machine using the command\ngit clone https://github.com/ForgottenMaster/lets-learn-vulkan Initialise Cargo Project Once we’ve cloned the repository, we can go ahead and initialise it as a Cargo project which is easy enough to do with\ncargo init When we’re inside the root folder of the repository at the command prompt\nAdd Dependencies We need two dependencies which can be added to the Cargo.toml file:\nash - This is the actual Vulkan API bindings which will be low level and as close to the C++ API as we can be. winit - This crate provides us the means to create windows in a cross-platform way. raw-window-handle - This crate is used by winit to provide us the window handle and display handle. Need this crate to be visible in the project as well so we can access the trait to get the raw handles. ash-window - This crate provides us the methods to get the required Vulkan extensions from a given raw display handle, along with allowing us to create a Vulkan surface to a window. After adding these dependencies our Cargo.toml looks as follows:\n[package] name = \"lets-learn-vulkan\" version = \"0.1.0\" edition = \"2021\" [dependencies] ash = \"0.37.1\" ash-window = \"0.12.0\" raw-window-handle = \"0.5.0\" winit = \"0.27.5\" Sanity Test In order to make sure all the crates are working together, we can run the following code snippet which:\nOpens a window Creates a Vulkan instance Creates a Vulkan surface use { ash::{vk, Entry}, core::ffi::CStr, raw_window_handle::HasRawDisplayHandle, winit::{ event::{Event, WindowEvent}, event_loop::EventLoop, window::Window, }, }; fn main() { // create an event loop and open a window. let event_loop = EventLoop::new(); let window = Window::new(\u0026event_loop).unwrap(); // get the required extensions needed from Vulkan. let required_extensions = ash_window::enumerate_required_extensions(window.raw_display_handle()).unwrap(); for required_extension in required_extensions { let name = unsafe { CStr::from_ptr(*required_extension).to_str().unwrap() }; println!(\"{name}\"); } // get the entry point for Vulkan. let entry = unsafe { Entry::load().unwrap() }; // create the instance creation info. let create_info = vk::InstanceCreateInfo { enabled_extension_count: required_extensions.len() as u32, pp_enabled_extension_names: required_extensions.as_ptr(), ..Default::default() }; // create the instance. let _instance = unsafe { entry.create_instance(\u0026create_info, None).unwrap() }; // stay in event loop until window close is requested. event_loop.run(move |event, _, control_flow| { control_flow.set_wait(); if let Event::WindowEvent { event: WindowEvent::CloseRequested, .. } = event { control_flow.set_exit(); } }); } This can be found in the setup-test.rs binary which can be run with\ncargo run --bin setup-test It will open a window that stays open until it’s closed, and will print out the names on the command line of the extensions required to create a Vulkan surface for the window.\nIt also creates and unwraps a Vulkan instance with the required extensions which tests the Vulkan loader is found and an instance is able to successfully be created.\n",
  "wordCount" : "565",
  "inLanguage": "en",
  "datePublished": "2023-01-09T22:43:32Z",
  "dateModified": "2023-01-09T22:43:32Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://forgottenmaster.github.io/posts/vulkan/lets-learn-vulkan/setup/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Robin Smith",
    "logo": {
      "@type": "ImageObject",
      "url": "https://forgottenmaster.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://forgottenmaster.github.io/" accesskey="h" title="Robin Smith (Alt + H)">Robin Smith</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://forgottenmaster.github.io/resume/" title="Résumé">
                    <span>Résumé</span>
                </a>
            </li>
            <li>
                <a href="https://forgottenmaster.github.io/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://forgottenmaster.github.io/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://forgottenmaster.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://forgottenmaster.github.io/posts/">Posts</a>&nbsp;»&nbsp;<a href="https://forgottenmaster.github.io/posts/vulkan/">Vulkan</a>&nbsp;»&nbsp;<a href="https://forgottenmaster.github.io/posts/vulkan/lets-learn-vulkan/">Let&#39;s Learn Vulkan</a></div>
    <h1 class="post-title entry-hint-parent">
      1. Setup
    </h1>
    <div class="post-meta"><span title='2023-01-09 22:43:32 +0000 UTC'>January 9, 2023</span>&nbsp;·&nbsp;3 min

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#the-stack" aria-label="The Stack">The Stack</a></li>
                <li>
                    <a href="#install-rust" aria-label="Install Rust">Install Rust</a></li>
                <li>
                    <a href="#create-github-repository" aria-label="Create Github Repository">Create Github Repository</a></li>
                <li>
                    <a href="#initialise-cargo-project" aria-label="Initialise Cargo Project">Initialise Cargo Project</a></li>
                <li>
                    <a href="#add-dependencies" aria-label="Add Dependencies">Add Dependencies</a></li>
                <li>
                    <a href="#sanity-test" aria-label="Sanity Test">Sanity Test</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>In order to follow along with the course, we&rsquo;ll want to get the project up and running, and nail down the tech stack we&rsquo;ll be using.</p>
<h1 id="the-stack">The Stack<a hidden class="anchor" aria-hidden="true" href="#the-stack">#</a></h1>
<ol>
<li>The language - <a href="https://www.rust-lang.org/">Rust</a></li>
<li>The Vulkan crate - <a href="https://crates.io/crates/ash">ash</a></li>
<li>The windowing crate - <a href="https://crates.io/crates/winit">winit</a></li>
<li>The window abstraction crate - <a href="https://crates.io/crates/raw-window-handle">raw-window-handle</a></li>
<li>The glue crate - <a href="https://crates.io/crates/ash-window">ash-window</a></li>
</ol>
<h1 id="install-rust">Install Rust<a hidden class="anchor" aria-hidden="true" href="#install-rust">#</a></h1>
<p>If the Rust toolchain is already installed, we can skip this bit. Luckily Rust is easy enough to install. Simply download and run <strong><a href="https://rustup.rs/">Rustup</a></strong> which will install the entire Rust toolchain including Cargo.</p>
<h1 id="create-github-repository">Create Github Repository<a hidden class="anchor" aria-hidden="true" href="#create-github-repository">#</a></h1>
<p>We&rsquo;ll go and create a Github Repo to use which can be located at <a href="https://github.com/ForgottenMaster/lets-learn-vulkan">Let&rsquo;s Learn Vulkan</a></p>
<p>Next we&rsquo;ll clone the repository to our machine using the command</p>
<pre tabindex="0"><code>git clone https://github.com/ForgottenMaster/lets-learn-vulkan
</code></pre><h1 id="initialise-cargo-project">Initialise Cargo Project<a hidden class="anchor" aria-hidden="true" href="#initialise-cargo-project">#</a></h1>
<p>Once we&rsquo;ve cloned the repository, we can go ahead and initialise it as a Cargo project which is easy enough to do with</p>
<pre tabindex="0"><code>cargo init
</code></pre><p>When we&rsquo;re inside the root folder of the repository at the command prompt</p>
<h1 id="add-dependencies">Add Dependencies<a hidden class="anchor" aria-hidden="true" href="#add-dependencies">#</a></h1>
<p>We need two dependencies which can be added to the Cargo.toml file:</p>
<ol>
<li><strong>ash</strong> - This is the actual Vulkan API bindings which will be low level and as close to the C++ API as we can be.</li>
<li><strong>winit</strong> - This crate provides us the means to create windows in a cross-platform way.</li>
<li><strong>raw-window-handle</strong> - This crate is used by winit to provide us the window handle and display handle. Need this crate to be visible in the project as well so we can access the trait to get the raw handles.</li>
<li><strong>ash-window</strong> - This crate provides us the methods to get the required Vulkan extensions from a given raw display handle, along with allowing us to create a Vulkan surface to a window.</li>
</ol>
<p>After adding these dependencies our Cargo.toml looks as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">package</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;lets-learn-vulkan&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">version</span> = <span style="color:#e6db74">&#34;0.1.0&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">edition</span> = <span style="color:#e6db74">&#34;2021&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">dependencies</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ash</span> = <span style="color:#e6db74">&#34;0.37.1&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ash-window</span> = <span style="color:#e6db74">&#34;0.12.0&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">raw-window-handle</span> = <span style="color:#e6db74">&#34;0.5.0&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">winit</span> = <span style="color:#e6db74">&#34;0.27.5&#34;</span></span></span></code></pre></div>
<h1 id="sanity-test">Sanity Test<a hidden class="anchor" aria-hidden="true" href="#sanity-test">#</a></h1>
<p>In order to make sure all the crates are working together, we can run the following code snippet which:</p>
<ol>
<li>Opens a window</li>
<li>Creates a Vulkan instance</li>
<li>Creates a Vulkan surface</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#66d9ef">use</span> {
</span></span><span style="display:flex;"><span>    ash::{vk, Entry},
</span></span><span style="display:flex;"><span>    core::ffi::CStr,
</span></span><span style="display:flex;"><span>    raw_window_handle::HasRawDisplayHandle,
</span></span><span style="display:flex;"><span>    winit::{
</span></span><span style="display:flex;"><span>        event::{Event, WindowEvent},
</span></span><span style="display:flex;"><span>        event_loop::EventLoop,
</span></span><span style="display:flex;"><span>        window::Window,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// create an event loop and open a window.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> event_loop <span style="color:#f92672">=</span> EventLoop::new();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> window <span style="color:#f92672">=</span> Window::new(<span style="color:#f92672">&amp;</span>event_loop).unwrap();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// get the required extensions needed from Vulkan.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> required_extensions <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>        ash_window::enumerate_required_extensions(window.raw_display_handle()).unwrap();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> required_extension <span style="color:#66d9ef">in</span> required_extensions {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> name <span style="color:#f92672">=</span> <span style="color:#66d9ef">unsafe</span> { CStr::from_ptr(<span style="color:#f92672">*</span>required_extension).to_str().unwrap() };
</span></span><span style="display:flex;"><span>        println!(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{name}</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// get the entry point for Vulkan.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> entry <span style="color:#f92672">=</span> <span style="color:#66d9ef">unsafe</span> { Entry::load().unwrap() };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// create the instance creation info.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> create_info <span style="color:#f92672">=</span> vk::InstanceCreateInfo {
</span></span><span style="display:flex;"><span>        enabled_extension_count: <span style="color:#a6e22e">required_extensions</span>.len() <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">u32</span>,
</span></span><span style="display:flex;"><span>        pp_enabled_extension_names: <span style="color:#a6e22e">required_extensions</span>.as_ptr(),
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">..</span>Default::default()
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// create the instance.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> _instance <span style="color:#f92672">=</span> <span style="color:#66d9ef">unsafe</span> { entry.create_instance(<span style="color:#f92672">&amp;</span>create_info, None).unwrap() };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// stay in event loop until window close is requested.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    event_loop.run(<span style="color:#66d9ef">move</span> <span style="color:#f92672">|</span>event, _, control_flow<span style="color:#f92672">|</span> {
</span></span><span style="display:flex;"><span>        control_flow.set_wait();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">let</span> Event::WindowEvent {
</span></span><span style="display:flex;"><span>            event: <span style="color:#a6e22e">WindowEvent</span>::CloseRequested,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">..</span>
</span></span><span style="display:flex;"><span>        } <span style="color:#f92672">=</span> event
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            control_flow.set_exit();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>This can be found in the setup-test.rs binary which can be run with</p>
<pre tabindex="0"><code>cargo run --bin setup-test
</code></pre><p>It will open a window that stays open until it&rsquo;s closed, and will print out the names on the command line of the extensions required to create a Vulkan surface for the window.</p>
<p>It also creates and unwraps a Vulkan instance with the required extensions which tests the Vulkan loader is found and an instance is able to successfully be created.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://forgottenmaster.github.io/">Robin Smith</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
